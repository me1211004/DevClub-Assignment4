<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Covid 19 India Tracker </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"</link>

</head>
<body>
    <div class="container-fluid p-5 bg-light text-center my-3">
        <h1>
            Covid 19   World and India Data in Real Time
        </h1>
        <h5 class="text-muted">
            Open Source Project for tracking covid 19 cases
        </h5>
    </div>
    <div class="container1">
        <div class="container">
            <h1 class="text-center mt-5">Covid 19 Live  Data in Table</h1>
            <br>
            <br>
            <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Location</th> 
                    <th>Total Confirmed Cases</th>
                    <th>New Confirmed Cases</th>
                  </tr>
                </thead>
                <tbody>
                  <tr id="data">

                  </tr>
                  <tr id="data1">
                       
                  </tr>
                </tbody>
              </table>
              <button  onclick= "refreshData()" class="btn btn-danger btn-block " style="margin-left:auto;margin-right:auto;display:block;margin-top:2%;margin-bottom:0%">
                  Refresh data
              </button>
        </div>
        <br>
        <br>
        <br>
        <h3 class="text-center">
            Last 30 Days COVID 19 Data of India
        </h3>
        <br>
        <canvas id="mychart">


        </canvas>
    </div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
        init()
           function init(){
               var url="https://api.covid19api.com/summary"
               var data=""
               $.get(url,function(data){
                   console.log(data)
                   data=`
                   <td>Global</td>
                   <td>${data.Global.TotalConfirmed}</td>  
                   <td>${data.Global.NewConfirmed}</td>

                   `
                   $("#data").html(data)

               })
               var data1=""
               $.get(url,function(data1){
                   console.log(data1)
                   data1=`
                   <td>India</td>
                   <td>${data1.Countries[77].TotalConfirmed}</td>  
                   <td>${data1.Countries[77].NewConfirmed}</td>

                   `
                   $("#data1").html(data1)
                })

    }
    
function refreshData()
    {
        clearData()
        init()
    }
function clearData()
    {
        $("#data").empty()
        $("#data1").empty()
    }    
</script>
<script src="script.js"> 

</script>
</html>
